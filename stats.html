<!DOCTYPE html>
<html>
<head>
    <title>Waste Watcher</title>
    <!-- Bootstrap 4 alpha CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/css/bootstrap.min.css"
          rel="stylesheet">
    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans|Roboto"
          rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/3/w3.css">
    <link href="style/base.css" rel="stylesheet" type="text/css">
	
	<link href="style/stat1.css" rel="stylesheet" type="text/css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>


<body>


<!-- Slideout menu -->

    <nav id="menu">
        <header>
            <ul class="menuVertical">
                <div class="menuLinks">
                    <a href="index.html">
                        <li><img class="menuIcon" src="images/Icon%20Assets/menuHome.png"> <span class="menuPageNames">Home</span> </li>
                    </a>
                </div>
                <hr>
                <div class="menuLinks">
                    <a href="lists.html">
                        <li><img class="menuIcon" src="images/Icon%20Assets/menuList.png"> <span class="menuPageNames">My List</span> </li>
                    </a>
                </div>
                <hr>
                <div class="menuLinks">
                    <a href="fridge.html">
                        <li><img class="menuIcon" id="fridgeIcon" src="images/Icon%20Assets/menuFridge.png"> <span class="menuPageNames">My Fridge</span> </li>
                    </a>
                </div>
                <hr>
                <div class="menuLinks">
                    <a href="stats.html">
                        <li><img class="menuIcon" id="statsIcon" src="images/Icon%20Assets/menuStats.png"> <span class="menuPageNames">Reports</span> </li>
                    </a>
                </div>
                <hr>
                <div class="menuLinks">
                    <a href="info.html">
                        <li><img class="menuIcon" id="infoIcon" src="images/Icon%20Assets/menuInfo.png"> <span class="menuPageNames">Info & Tips</span> </li>
                    </a>
                </div>
                <hr>
                <div class="menuLinks">
                    <a href="login.html">
                        <li><img class="menuIcon" id="loginIcon" src="images/Icon%20Assets/menuLogin.png"> <span class="menuPageNames">Login</span> </li>
                    </a>
                </div>
                <hr> </ul>
        </header>
    </nav>
    <!-- main page content area -->
    <!-- header -->
    <main id="panel">
        <header>
            <div class="topNav">
                <div class="menuButton">
                    <button class="toggle-button"><img src="images/Icon%20Assets/menu.png"></button>
                </div>
                <div class="menuTitle">
                    <h1 id="navTitle"><i class="fa fa-line-chart" aria-hidden="true"></i> My Stats</h1> </div>
            </div>
        </header>


										
    <div id="container">
	
	<h2 id="pageTitle"> Statistics </h2><br>
	<h6 id="cardTitle"><i> You have wasted this week</i></h6>
	<div class="row">
		<div class="card">
			<div class="bigText" v-model="max" @click="computeTotalWasted">{{"$ " + totalWasted}}
                
            </div><br><br>
             <small>*Cost determined by Superstore's current pricing</small>
		</div>  
     
	</div>
	
	<h6 id="cardTitle"><i> Top Wasted Food </i></h6>
	<div class="row">
		<div class="card">
			<img id="bigFoodIcon" src="images/apple.png" alt="Apple">
			<div class="medText" v-model="max" @click="computeTopWasted">{{maxname + "s"}}</div>
			You have wasted <div class="smallText" v-model="max" @click="computeTopWasted">{{max}} </div> {{maxname + "s"}}.
			
		</div>
	</div>
	
	<h6 id="cardTitle"><i> Other Wasted Food </i></h6>
	<div class="row">
		<div class="card">
			<div class="medText" v-model="max" @click="computeTopWasted">{{secondname + "s"}}</div>
			You have wasted <div class="smallText" v-model="max" @click="computeTopWasted">{{secondmax}}</div> {{secondname + "s"}}.
			<div class="medText" v-model="max" @click="computeTopWasted">{{thirdname + "s"}}</div>
			You have wasted <div class="smallText" v-model="max" @click="computeTopWasted">{{thirdmax}}</div> {{thirdname }}.
		</div>
	</div>
</main>
</body>


<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"
        integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY"
        crossorigin="anonymous"></script>

<!-- Tether -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js"
        integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB"
        crossorigin="anonymous"></script>

<!-- Bootstrap 4 Alpha JS -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/js/bootstrap.min.js"
        integrity="sha384-VjEeINv9OSwtWFLAtmc4JCtEJXXBub00gtSnszmspDLCtC0I4z4nqz7rEFbIZLLU"
        crossorigin="anonymous"></script>

<script src="https://use.fontawesome.com/26ec5e6edd.js"></script>
<script src="vue.js"></script>
<script type="text/javascript">
	new Vue({
		
		el: '#container',
		
		data: {
			newTodoText: '',
			max: 0,
			secondmax: 0,
			thirdmax: 0,
			maxname: '',
			totalWasted: 0,
			secondname: '',
			thirdname: '',
			
                items: [{
                    quantityWasted: 5,
                    item: "Apple",
					cost: 0.87
                }, {
                    quantityWasted: 1,
                    item: "Egg",
					cost: 0.3
                }, {
                    quantityWasted: 4,
                    item: "Banana",
					cost: 0.71
                }],
		},
		
		computed: {
			computeTopWasted: function() {
				for (i = 0; i < this.items.length; i++)
				{
					if (this.items[i].quantityWasted > this.max) {
						this.thirdmax = this.secondmax;
						this.thirdname = this.secondname;
						this.secondmax = this.max;
						this.secondname = this.maxname;
						this.max = this.items[i].quantityWasted;
						this.maxname = this.items[i].item;
					} else if(this.items[i].quantityWasted > this.secondmax) {
						this.thirdmax = this.secondmax;
						this.thirdname = this.secondname;
						this.secondmax = this.items[i].quantityWasted;
						this.secondname = this.items[i].item;
					} else if(this.items[i].quantityWasted > this.thirdmax) {
						this.thirdmax = this.items[i].quantityWasted;
						this.thirdname = this.items[i].item;
					} 
				}
			},
			
			
			computeTotalWasted: function() {
				for (i = 0; i<this.items.length; i++) {
					this.totalWasted += (this.items[i].quantityWasted * this.items[i].cost);
				}
				this.totalWasted = this.totalWasted.toFixed(2);
			},
		},
	});
</script>

<!-- Initialize Bootstrap functionality -->
<script>

    // Initialize tooltip component
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })

    // Initialize popover component
    $(function () {
        $('[data-toggle="popover"]').popover()
    })
</script>

<!-- slideout menu component -->
<script src="dist/slideout.min.js"></script>
<script>
    var slideout = new Slideout({
        'panel': document.getElementById('panel'),
        'menu': document.getElementById('menu'),
        'padding': 300,
        'tolerance': 70
    });
    document.querySelector('.toggle-button').addEventListener('click', function () {
        slideout.toggle();
    });
</script>